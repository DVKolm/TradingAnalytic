<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.ta.controller.TradeFormController"
            fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
            style="-fx-background-color: #f8f9fa; -fx-border-color: transparent;">
    <content>
        <VBox spacing="24.0" style="-fx-background-color: #f8f9fa;">
            <children>
                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                <VBox alignment="CENTER" spacing="8.0"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <children>
                        <Label fx:id="titleLabel"
                               style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                               text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ ÑÐ´ÐµÐ»ÐºÑƒ" />
                        <Label style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;"
                               text="Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ð¾Ð¹ ÑÐ´ÐµÐ»ÐºÐµ" />
                        <Separator style="-fx-background-color: #ecf0f1;" />
                    </children>
                    <padding>
                        <Insets bottom="16.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                </VBox>

                <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ -->
                <VBox spacing="16.0"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <children>
                        <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #34495e;"
                               text="ðŸ“‹ ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ" />

                        <GridPane hgap="20.0" vgap="16.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" maxWidth="160.0" minWidth="160.0" prefWidth="160.0" />
                                <ColumnConstraints hgrow="ALWAYS" minWidth="250.0" prefWidth="300.0" />
                            </columnConstraints>
                            <children>
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="ÐÐºÑ‚Ð¸Ð²*:" />
                                <TextField fx:id="assetNameField"
                                           promptText="ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: AAPL, EURUSD, BTC"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" />

                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð¢Ð¸Ð¿ ÑÐ´ÐµÐ»ÐºÐ¸*:" GridPane.rowIndex="1" />
                                <ComboBox fx:id="tradeTypeComboBox"
                                          style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 14px;"
                                          prefWidth="300.0"
                                          GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð’Ð°Ð»ÑŽÑ‚Ð°*:" GridPane.rowIndex="2" />
                                <ComboBox fx:id="currencyComboBox"
                                          style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 14px;"
                                          prefWidth="300.0"
                                          GridPane.columnIndex="1" GridPane.rowIndex="2" />

                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ*:" GridPane.rowIndex="3" />
                                <ComboBox fx:id="statusComboBox"
                                          style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 14px;"
                                          prefWidth="300.0"
                                          GridPane.columnIndex="1" GridPane.rowIndex="3" />

                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð”Ð°Ñ‚Ð° ÑÐ´ÐµÐ»ÐºÐ¸*:" GridPane.rowIndex="4" />
                                <DatePicker fx:id="tradeDatePicker"
                                            style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 14px;"
                                            prefWidth="300.0"
                                            GridPane.columnIndex="1" GridPane.rowIndex="4" />
                            </children>
                        </GridPane>
                    </children>
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                </VBox>

                <!-- Ð¦ÐµÐ½Ñ‹ Ð¸ Ð¾Ð±ÑŠÐµÐ¼Ñ‹ -->
                <VBox spacing="16.0"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <children>
                        <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #34495e;"
                               text="ðŸ’° Ð¦ÐµÐ½Ñ‹ Ð¸ Ð¾Ð±ÑŠÐµÐ¼Ñ‹" />

                        <GridPane hgap="20.0" vgap="16.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" maxWidth="160.0" minWidth="160.0" prefWidth="160.0" />
                                <ColumnConstraints hgrow="ALWAYS" minWidth="250.0" prefWidth="300.0" />
                            </columnConstraints>
                            <children>
                                <!-- ROW 0: Ð¦ÐµÐ½Ð° Ð²Ñ…Ð¾Ð´Ð° -->
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð¦ÐµÐ½Ð° Ð²Ñ…Ð¾Ð´Ð°*:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                                <TextField fx:id="entryPointField"
                                           promptText="0.0000"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                <!-- ROW 1: Ð¦ÐµÐ»ÑŒ Take Profit -->
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð¦ÐµÐ»ÑŒ Take Profit:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                                <TextField fx:id="takeProfitTargetField"
                                           promptText="0.0000 (Ñ†ÐµÐ»ÑŒ Ð´Ð»Ñ Ð²Ð·ÑÑ‚Ð¸Ñ Ð¿Ñ€Ð¸Ð±Ñ‹Ð»Ð¸)"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                <!-- ROW 2: Ð¦ÐµÐ½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð° -->
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð¦ÐµÐ½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð°:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                                <TextField fx:id="exitPointField"
                                           promptText="0.0000 (Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼ Ð´Ð»Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ñ… ÑÐ´ÐµÐ»Ð¾Ðº)"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" GridPane.rowIndex="2" />

                                <!-- ROW 3: ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ -->
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾*:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                                <TextField fx:id="volumeField"
                                           promptText="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐµÐ´Ð¸Ð½Ð¸Ñ† Ð°ÐºÑ‚Ð¸Ð²Ð°"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" GridPane.rowIndex="3" />

                                <!-- ROW 4: ÐŸÑ€Ð¸Ð±Ñ‹Ð»ÑŒ/Ð£Ð±Ñ‹Ñ‚Ð¾Ðº -->
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="ÐŸÑ€Ð¸Ð±Ñ‹Ð»ÑŒ/Ð£Ð±Ñ‹Ñ‚Ð¾Ðº:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                                <TextField fx:id="profitLossField"
                                           promptText="0.00 (Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸)"
                                           editable="false"
                                           style="-fx-background-color: #e9ecef; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" GridPane.rowIndex="4" />
                            </children>
                        </GridPane>
                    </children>
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                </VBox>


                <!-- Ð’Ñ€ÐµÐ¼Ñ ÑÐ´ÐµÐ»ÐºÐ¸ -->
                <VBox spacing="16.0"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <children>
                        <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #34495e;"
                               text="â° Ð’Ñ€ÐµÐ¼Ñ ÑÐ´ÐµÐ»ÐºÐ¸" />

                        <GridPane hgap="20.0" vgap="16.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" maxWidth="160.0" minWidth="160.0" prefWidth="160.0" />
                                <ColumnConstraints hgrow="ALWAYS" minWidth="250.0" prefWidth="300.0" />
                            </columnConstraints>
                            <children>
                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ…Ð¾Ð´Ð°:" />
                                <TextField fx:id="entryTimeField"
                                           promptText="Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³ Ñ‡Ñ‡:Ð¼Ð¼"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" />

                                <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                       text="Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°:" GridPane.rowIndex="1" />
                                <TextField fx:id="exitTimeField"
                                           promptText="Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³ Ñ‡Ñ‡:Ð¼Ð¼"
                                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10; -fx-font-size: 14px;"
                                           GridPane.columnIndex="1" GridPane.rowIndex="1" />
                            </children>
                        </GridPane>
                    </children>
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                </VBox>

                <!-- ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ -->
                <VBox spacing="16.0"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <children>
                        <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #34495e;"
                               text="ðŸ“ ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ Ð¸ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸" />

                        <VBox spacing="16.0">
                            <children>
                                <!-- ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð²Ñ…Ð¾Ð´Ð° -->
                                <VBox spacing="8.0">
                                    <children>
                                        <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                               text="ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð²Ñ…Ð¾Ð´Ð°:" />
                                        <TextArea fx:id="entryReasonArea" prefHeight="80.0" wrapText="true"
                                                  promptText="ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð²Ñ…Ð¾Ð´Ð° Ð² ÑÐ´ÐµÐ»ÐºÑƒ..."
                                                  style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 13px;" />
                                    </children>
                                </VBox>

                                <!-- ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð° -->
                                <VBox spacing="8.0">
                                    <children>
                                        <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                               text="ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð°:" />
                                        <TextArea fx:id="exitReasonArea" prefHeight="80.0" wrapText="true"
                                                  promptText="ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð²Ñ‹Ñ…Ð¾Ð´Ð° Ð¸Ð· ÑÐ´ÐµÐ»ÐºÐ¸..."
                                                  style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 13px;" />
                                    </children>
                                </VBox>

                                <!-- Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸ -->
                                <VBox spacing="8.0">
                                    <children>
                                        <Label style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 14px;"
                                               text="Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸:" />
                                        <TextArea fx:id="notesArea" prefHeight="80.0" wrapText="true"
                                                  promptText="Ð›ÑŽÐ±Ñ‹Ðµ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸..."
                                                  style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 13px;" />
                                    </children>
                                </VBox>
                            </children>
                        </VBox>
                    </children>
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                </VBox>

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
                <HBox spacing="16.0" alignment="CENTER"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <children>
                        <Button fx:id="saveButton" onAction="#saveTrade" prefWidth="150.0" prefHeight="45.0"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-background-radius: 8; -fx-cursor: hand;"
                                text="ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" />

                        <Button fx:id="clearButton" onAction="#clearForm" prefWidth="120.0" prefHeight="45.0"
                                style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-background-radius: 8; -fx-cursor: hand;"
                                text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ" />

                        <Button fx:id="cancelButton" onAction="#cancel" prefWidth="100.0" prefHeight="45.0"
                                style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-background-radius: 8; -fx-cursor: hand;"
                                text="ÐžÑ‚Ð¼ÐµÐ½Ð°" />
                    </children>
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                </HBox>

                <!-- Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ° -->
                <VBox spacing="8.0"
                      style="-fx-background-color: #e8f4fd; -fx-background-radius: 8; -fx-border-color: #3498db; -fx-border-radius: 8; -fx-border-width: 1;">
                    <children>
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #2980b9;"
                               text="ðŸ’¡ Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ°" />
                        <VBox spacing="4.0">
                            <children>
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #34495e;"
                                       text="â€¢ ÐŸÐ¾Ð»Ñ ÑÐ¾ Ð·Ð²ÐµÐ·Ð´Ð¾Ñ‡ÐºÐ¾Ð¹ (*) Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹ Ð´Ð»Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #34495e;"
                                       text="â€¢ ÐŸÑ€Ð¸Ð±Ñ‹Ð»ÑŒ/Ð£Ð±Ñ‹Ñ‚Ð¾Ðº Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #34495e;"
                                       text="â€¢ Ð’Ñ€ÐµÐ¼Ñ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ: Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³ Ñ‡Ñ‡:Ð¼Ð¼" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #34495e;"
                                       text="â€¢ Ð¦ÐµÐ»ÑŒ Take Profit Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½ÑƒÑŽ Ð¿Ñ€Ð¸Ð±Ñ‹Ð»ÑŒ Ð¿Ñ€Ð¸ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ð¸" />
                            </children>
                        </VBox>
                    </children>
                    <padding>
                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                    </padding>
                </VBox>
            </children>
            <padding>
                <Insets bottom="24.0" left="24.0" right="24.0" top="24.0" />
            </padding>
        </VBox>
    </content>
</ScrollPane>